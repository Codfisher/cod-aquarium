---
title: CodToys - EP02：功能選項
description: 上一章節我們完成了快捷鍵開關視窗功能，這一章節我們來實作功能選項部分吧！
tags: ['CodToys', 'Electron']
image: https://codlin.me/cod-toys.webp
date: 20241221
---

# CodToys - EP02：功能選項

![快樂堆積木的魚](/cod-toys.webp)

上一章節我們完成了快捷鍵開關視窗功能，這一章節我們來實作功能選項部分吧！

## 功能選項

讓我們新增功能選項元件

`src\components\feature-option.vue`

```vue
<template>
  <div
    ref="optionRef"
    class="flex items-center gap-2 duration-300"
    :class="{ 'bg-primary/30': selected }"
    @click="props.action()"
  >
    <q-icon
      v-if="props.icon"
      :name="props.icon"
      size="1.5rem"
    />
    <slot>
      {{ props.text }}
    </slot>
  </div>
</template>

<script setup lang="ts">
import { useElementHover } from '@vueuse/core'
import { computed, ref } from 'vue'

interface Props {
  icon?: string;
  text?: string;
  action?: () => void;
}
const props = withDefaults(defineProps<Props>(), {
  action: () => () => { },
})

defineSlots<{
  default?: () => unknown;
}>()

const optionRef = ref<HTMLDivElement>()
const isHover = useElementHover(optionRef)
const selected = computed(() => isHover.value)
</script>
```

此元件負責呈現可用的功能選項，並且可以透過 `action` 來設定點擊後的行為。

滑鼠 `hover` 或使用鍵盤選擇時，會變更背景色，這裡預留 `selected`，晚點來實作鍵盤導航功能。

在使用 `feature-option` 元件前，先讓我們封裝一下目前的輸入框元件。

`src\components\main-input.vue`

```vue
<template>
  <q-input
    v-model="inputText"
    placeholder="要來點甚麼？...(´,,•ω•,,)"
    autofocus
    outlined
    square
  >
    <template #prepend>
      <q-icon name="search" />
    </template>
  </q-input>
</template>

<script setup lang="ts">
const inputText = defineModel({ default: '' })
</script>
```

最後在首頁中引入 `feature-option` 與 `main-input` 元件。

`src\pages\index.vue`

```vue
<template>
  <div class="flex-col">
    <main-input v-model="inputText" />

    <div class="flex-col">
      <feature-option
        text="選項 1"
        class="p-4"
      />
      <feature-option
        text="選項 2"
        class="p-4"
      />
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import FeatureOption from '../components/feature-option.vue'
import MainInput from '../components/main-input.vue'

const inputText = ref('')
</script>
```

現在讓我們打開視窗。

![feature-option](/cod-toys/feature-option.png)

## 總結 🐟

以上程式碼可以[在此取得](https://github.com/Codfisher/side-project-cod-toys/tree/feat/feature-card)

- 使用 Electron 開發桌面應用程式
- `globalShortcut` 可以綁定全域快捷鍵

下一章讓我們來實作連接 Notion Database 功能吧。<span class="text-nowrap">♪( ◜ω◝و(و</span>
