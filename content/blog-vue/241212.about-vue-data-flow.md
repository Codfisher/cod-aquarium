---
title: 關於 Vue 資料流那檔事
description: Vue 資料流的概念與實作筆記，還請大家多多指教 (*´∀`)~♥
tags: ['Vue']
image: https://codlin.me/about-vue-data-flow.webp
date: 20241212
---

# 關於 Vue 資料流那檔事

![about-vue-data-flow](/about-vue-data-flow.webp)

實際開發時，常常會遇到怎麼規劃資料流的問題。

此文是筆記，不是指南，希望大家可以多多討論，一起進步。

::: tip
[軟體開發沒有銀彈](https://zh.wikipedia.org/zh-tw/%E6%B2%A1%E6%9C%89%E9%93%B6%E5%BC%B9)，沒有絕對的對錯，只有適不適合，實務上要根據專案規模、需求持續調整。
:::

未來某天可能會發現目前的寫法不好、考量不夠完整，所以本文會持續不定期更新。<span class="text-nowrap">(´,,•ω•,,)</span>

接下來讓我們根據情境或 Vue API 來討論資料流的概念與實作吧。<span class="text-nowrap">੭ ˙ᗜ˙ )੭</span>

## 依照 API

Vue 中基本傳遞資料的方式有 Prop（emit）、Provide、Store

我自己列了一個簡易的流程圖，簡化思考。

```mermaid
---
title: Vue 的 Prop、Provide、Store 使用時機
---

flowchart TD
    A((開始)) --> B{是否跨多個元件？}

    B --否--> R1
    B --是--> C{皆為兄弟元件嗎？}

    C --是--> R2
    C --否--> D{傳遞深度固定嗎？
    例如固定只有 3 層}

    D --是--> R1
    D --否--> E{傳遞方向可預期嗎？
    例如僅有後代元件使用}

    E --是--> R3
    E --否--> F{狀態之 Domain 明確嗎？
    例如：User 登入資訊}

    F --是--> R4
    F --否--> 請重新探討

    R1[Prop]
    R2[使用父元件管理 Prop]
    R3[Provide]
    R4[Store]
```

### 甚麼時候使用 store？

這裡的 store 只的是像 Vuex、Pinia 這類的狀態管理套件，其資料為全域共享。

方便歸方便，但是也容易造成資料流不清晰，所以在使用時要特別注意。

## 依情境

## 兄弟元件溝通

元件設計時，應該盡量元件單一化，也就是從元件的角度出發，元件只關心 props 進來的參數，不關心外部狀態。

## 總結 🐟
